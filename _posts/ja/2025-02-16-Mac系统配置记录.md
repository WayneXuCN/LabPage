---
layout: post
title: macOSシステム設定の記録
date: 2025-02-16 17:05:53
last_updated: 2025-05-05 23:03:53
description: macOSのソフトウェア設定と一般的なエラー解決策の記録
tags: macOS Configuration
categories: Tools
featured: false
giscus_comments: true
related_posts: true
toc:
  sidebar: right
---

> Mac OSのほとんどの設定方法はLinuxと似ていますが、ここではMac特有の設定や問題、よく使うツールのみを記録します。

## システム設定

### 1. 初期設定

- すべての出所からのアプリケーションインストールを許可：`sudo spctl --master-disable`
- アプリケーションを外付けハードディスクにインストール

  ```bash
  # 外付けハードディスクにアプリケーションディレクトリを作成
  mkdir /Volumes/Work/Application
  # 外付けディスクにライブラリディレクトリとApplication Supportディレクトリを作成
  mkdir -p /Volumes/Work/Library/Application\ Support
  # 「/Applications」ディレクトリ内のアプリを外付けディスクのアプリディレクトリに移動（手動またはコマンドで）
  mv /Applications/A.app /Volumes/Work/Application
  # システム標準のアプリディレクトリに移動
  cd /Applications
  # アプリのシンボリックリンクを内部ディスクに作成
  ln -s /Volumes/Work/Application/A.app ./A.app
  # ~/Library/Application Supportに必要なファイルがある場合は外付けディスクに移動
  mv ~/Library/Application\ Support/A /Volumes/Work/Library/Application\ Support
  # そしてシンボリックリンクを作成
  ln -s /Volumes/Work/Library/Application\ Support/A ~/Library/Application\ Support
  ```

- よく使うツール

  | 機能                   | 名称                | 備考           | ダウンロードリンク                                       |
  | ---------------------- | ------------------- | -------------- | -------------------------------------------------------- |
  | 解凍                   | Keka                | 公式無料       | [公式サイト](https://www.keka.io/zh-cn/)                 |
  | アンインストール       | AppCleaner          | 無料           | [公式サイト](https://freemacsoft.net/appcleaner/)        |
  | ランチャー             | Raycast             | 基本無料       | [公式サイト](https://www.raycast.com/)                   |
  | PDFリーダー            | PDF Expert          | 有料           | [公式サイト](https://pdfexpert.com/)                     |
  | スクリーンショット     | PixPin              | 基本無料       | [公式サイト](https://pixpin.cn/docs/official-log/1.9.11) |
  | 右クリック管理         | iRightMouse         | 無料/有料版    | App Store                                                |
  | パッケージ管理         | HomeBrew            | オープンソース | [公式サイト](https://brew.sh/zh-cn/)                     |
  | メニュー管理           | Ice                 | オープンソース | `brew install jordanbaird-ice`                           |
  | ターミナル             | iTerm2              | オープンソース | [公式サイト](https://iterm2.com/index.html)              |
  | SSH                    | Termius             | アプリ内課金   | [公式サイト](https://termius.com/)                       |
  | クリップボード         | Raycast（一部機能） | 基本無料       | [公式サイト](https://www.raycast.com/)                   |
  | ウィンドウ管理         | Loop                | オープンソース | `brew install --cask loop`                               |
  | ネットワーク起動       | wakeonlan           | オープンソース | `brew install wakeonlan`                                 |
  | サウンド管理           | SoundSource         | 有料           | [公式サイト](https://rogueamoeba.com/soundsource/)       |
  | サウンド管理           | LosslessSwitcher    | オープンソース | [GitHub](https://github.com/LosslessSwitcher)            |
  | マウス・キーボード共有 | DeskFlow            | オープンソース | [GitHub](https://github.com/DeskFlow/DeskFlow)           |
  | プレイヤー             | IINA                | オープンソース | [公式サイト](https://iina.io/)                           |
  | シェル補完             | Amazon Q            | オープンソース | [GitHub](https://github.com/withfig/autocomplete)        |

- ログイン項目や拡張機能の不要な項目を削除

  ```bash
  # Finderで該当フォルダを開き、ログイン項目名に対応するファイルを削除
  ~/Library/LaunchAgents
  /Library/LaunchAgents
  /Library/LaunchDaemons
  ```

### 2. 欧路辞書の無制限試用

欧路辞書のMac版とWindows版は仕様が異なり、Mac版は未登録だと試用回数に制限がありますが、ローカルの設定ファイルを編集することで回数制限を回避できます。手順は以下の通りです：

- Finderを開く
- ショートカット `Cmd + Shift + G`
- パスを入力：`~/Library/Preferences`
- ファイルを探す：`com.eusoft.eudic.plist`
- plistバイナリファイルをXML形式で開く（VSCodeのBinary Plistプラグインなどを利用）
- フィールド：`MAIN_TimesLeft` を探す
- 値を大きく設定（例：99999）し、保存

再度欧路辞書を開くと、プロ機能を無制限で利用でき、アップグレードしても有効です。

## 開発環境設定

### 1. Python (conda-forge)

#### numpy

- NumPyはAppleのAccelerateフレームワーク（BLAS）で最適化されています。condaでインストールする場合は、`numpy`のBLAS依存を指定する必要があります。PyPIのWheel経由でインストールする場合、`numpy>2.0`は自動的にAccelerateのBLASを利用します。

  ```bash
  conda install numpy "blas=*=*accelerate*"
  ```

- 環境のBLAS実装を切り替えることも可能です。このコマンドはBLASライブラリ自体のみを対象とし、BLAS依存の他パッケージは自動でインストールされません。他のパッケージがBLASを必要とする場合は手動でインストールしてください。

  ```bash
  conda install "libblas=*=*accelerate" # 新しいコマンド
  conda install "blas=*=accelerate" # 古いコマンド
  ```

- 特定のBLAS実装を固定したい場合は、環境内でBLAS実装をピン留めしてcondaによるロールバックを防げます。Accelerateを固定するには、conda-docsの説明通り、`libblas=*=*accelerate`を`<conda-root>/envs/<env-name>/conda-meta/pinned`に追加してください。

<footer lang="ja" style="
  background-color: #f8f9fa;
  color: #6c757d;
  font-size: 0.85rem;
  line-height: 1.5;
  padding: 1rem 1.5rem;
  margin-top: 2rem;
  border-top: 1px solid #e9ecef;
  text-align: center;
">
  <p style="margin: 0; word-break: break-word;">
    このページは生成AIによって自動翻訳されており、不正確または不完全な情報が含まれている可能性があります。
    <a href="mailto:wenjie.xu.cn@outlook.com" style="
      color: #007bff;
      text-decoration: none;
    ">ご意見・ご指摘はこちらまで</a>。品質向上のためご協力をお願いいたします。
  </p>
</footer>
